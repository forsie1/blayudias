<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>Дія</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
  margin:0;height:100%;
  font-family:-apple-system,BlinkMacSystemFont,system-ui;
  background:linear-gradient(160deg,#6a5cff,#2b3cff,#ff5fb7);
  color:#fff;
  overflow:hidden;
}

/* ===== SCREENS ===== */
.screen{
  position:absolute; inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  transition:.35s ease;
}
.hidden{display:none}

/* ===== PIN ===== */
#pinScreen{
  gap:20px;
}
.pin-dots{
  display:flex; gap:12px;
}
.pin-dots div{
  width:14px;height:14px;
  border-radius:50%;
  border:2px solid #fff;
}
.pin-dots .on{background:#fff}

.pad{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:12px;
}
.pad button{
  height:70px;
  border-radius:18px;
  border:none;
  background:rgba(255,255,255,.25);
  color:#fff;
  font-size:26px;
  font-weight:800;
}
.pad button:active{transform:scale(.95)}

/* ===== CARD ===== */
.card-wrap{perspective:1400px}
.card{
  width:360px;
  height:460px;
  position:relative;
  transform-style:preserve-3d;
  transition:transform .8s cubic-bezier(.2,.8,.2,1);
}
.card.flip{transform:rotateY(180deg)}

.side{
  position:absolute; inset:0;
  border-radius:26px;
  backface-visibility:hidden;
  overflow:hidden;
}

/* blur BACKGROUND ONLY */
.blur-bg{
  position:absolute; inset:0;
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,.18);
}

/* FRONT */
.front-content{
  position:relative;
  z-index:2;
  padding:18px;
}

.logo{font-weight:900;font-size:22px}

.photo{
  width:110px;height:140px;
  border-radius:14px;
  overflow:hidden;
  background:rgba(255,255,255,.35);
}
.photo img{width:100%;height:100%;object-fit:cover}

.top{
  display:flex; gap:14px; margin-top:14px;
}
.right{
  display:flex; flex-direction:column;
  gap:6px; font-size:14px;
}

.update{
  margin-top:16px;
  padding:8px;
  background:rgba(0,255,0,.35);
  border-radius:10px;
  text-align:center;
  font-weight:700;
}

.name{
  margin-top:14px;
  font-size:16px;
  font-weight:800;
}

/* BACK */
.back{
  transform:rotateY(180deg);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.back h3{margin-bottom:10px}

/* ===== TABBAR (CREATED LATE) ===== */
.tabbar{
  position:absolute;
  left:0; right:0; bottom:0;
  height:80px;
  display:flex;
  background:rgba(255,255,255,.18);
  backdrop-filter:blur(20px);
}
.tabbar button{
  flex:1;
  border:none;
  background:none;
  color:#fff;
  font-weight:700;
}
</style>
</head>

<body>

<!-- PIN -->
<div id="pinScreen" class="screen">
  <div class="pin-dots">
    <div></div><div></div><div></div><div></div>
  </div>

  <div class="pad">
    <button onclick="add(1)">1</button><button onclick="add(2)">2</button><button onclick="add(3)">3</button>
    <button onclick="add(4)">4</button><button onclick="add(5)">5</button><button onclick="add(6)">6</button>
    <button onclick="add(7)">7</button><button onclick="add(8)">8</button><button onclick="add(9)">9</button>
    <button onclick="del()">⌫</button><button onclick="add(0)">0</button><button></button>
  </div>
</div>

<!-- APP -->
<div id="app" class="screen hidden">

  <div class="card-wrap">
    <div id="card" class="card" onclick="flip()">

      <!-- FRONT -->
      <div class="side">
        <div class="blur-bg"></div>
        <div class="front-content">
          <div class="logo">Дія</div>

          <div class="top">
            <div class="photo">
              <img src="https://picsum.photos/300/400">
            </div>

            <div class="right">
              <div>01.01.2000</div>
              <div>№ 07460112</div>
            </div>
          </div>

          <div class="update">Документ оновлено: сьогодні</div>
          <div class="name">Імʼя Прізвище По-батькові</div>
        </div>
      </div>

      <!-- BACK -->
      <div class="side back">
        <h3>QR-код</h3>
        <canvas id="qr"></canvas>
      </div>

    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
/* ===== PIN ===== */
let pin=[];
const dots=document.querySelectorAll('.pin-dots div');

function drawDots(){
  dots.forEach((d,i)=>d.classList.toggle('on',i<pin.length));
}

function add(n){
  if(pin.length>=4)return;
  pin.push(n); drawDots();
  if(pin.length===4){
    if(pin.join('')==='1111'){
      unlock();
    }else{
      pin=[]; drawDots();
    }
  }
}
function del(){pin.pop(); drawDots();}

function unlock(){
  document.getElementById('pinScreen').classList.add('hidden');
  document.getElementById('app').classList.remove('hidden');
  createTabbar();
}

/* ===== CARD ===== */
let flipped=false;
let qrReady=false;

function flip(){
  if(!qrReady){
    QRCode.toCanvas(document.getElementById('qr'),
      'https://example.com',
      {width:200});
    qrReady=true;
  }
  flipped=!flipped;
  document.getElementById('card').classList.toggle('flip',flipped);
}

/* ===== TABBAR ===== */
function createTabbar(){
  const t=document.createElement('div');
  t.className='tabbar';
  t.innerHTML=`
    <button>Стрічка</button>
    <button>Документи</button>
    <button>Сервіси</button>
    <button>Меню</button>`;
  document.body.appendChild(t);
}
</script>
</body>
</html>
