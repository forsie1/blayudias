<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D1A DEMO</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont}
body{
  height:100vh;
  overflow:hidden;
  background:linear-gradient(-45deg,#ffd54f,#4fc3f7,#7e57c2,#ec407a);
  background-size:400% 400%;
  animation:bg 18s ease infinite;
}
@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.hidden{display:none}

/* ===== PIN ===== */
#pinScreen{
  position:fixed;inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  backdrop-filter:blur(25px);
}
.pinDots{display:flex;gap:12px;margin-bottom:25px}
.dot{
  width:14px;height:14px;border-radius:50%;
  border:2px solid white;
}
.dot.fill{background:white}
.pinGrid{
  display:grid;
  grid-template-columns:repeat(3,80px);
  gap:15px;
}
.pinBtn{
  width:80px;height:80px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.4);
  color:white;font-size:24px;
  background:rgba(255,255,255,.15);
}
.pinBtn:active{transform:scale(.95)}
.erase{grid-column:2}

/* ===== APP ===== */
#app{height:100%;display:flex;flex-direction:column}

/* ===== CONTENT ===== */
#content{flex:1;overflow:auto;padding:20px;color:white}

/* ===== TABBAR ===== */
#tabbar{
  height:70px;
  background:black;
  display:flex;
  justify-content:space-around;
  align-items:center;
}
.tab{
  color:white;
  font-size:12px;
  text-align:center;
  opacity:.5;
}
.tab.active{opacity:1;font-weight:600}

/* ===== FORM ===== */
.input{
  background:rgba(255,255,255,.15);
  padding:14px;
  border-radius:14px;
  margin-bottom:12px;
  color:white;
  border:none;
  width:100%;
  font-size:16px;
}

/* ===== CARD ===== */
.cardWrap{
  perspective:1200px;
}
.card{
  width:100%;
  max-width:380px;
  margin:auto;
  height:240px;
  position:relative;
  transform-style:preserve-3d;
  transition:.8s;
}
.card.flip{transform:rotateY(180deg)}
.side{
  position:absolute;inset:0;
  border-radius:22px;
  backdrop-filter:blur(18px);
  background:rgba(255,255,255,.15);
  padding:16px;
  backface-visibility:hidden;
}
.back{transform:rotateY(180deg);display:flex;flex-direction:column;align-items:center;justify-content:center}
.cardTitle{text-align:center;font-weight:700;margin-bottom:6px}

.row{display:flex;gap:12px}
.photo{
  width:90px;height:110px;border-radius:14px;
  background:rgba(255,255,255,.3);
  overflow:hidden;
}
.photo img{width:100%;height:100%;object-fit:cover}
.dataRight{flex:1;font-size:14px}
.nameBlock{
  margin-top:10px;
  font-weight:800;
  font-size:18px;
  line-height:1.2;
}

.ticker{
  margin:10px 0;
  background:rgba(76,175,80,.35);
  padding:6px;
  white-space:nowrap;
  overflow:hidden;
}
.ticker span{
  display:inline-block;
  animation:ticker 8s linear infinite;
}
@keyframes ticker{
  0%{transform:translateX(100%)}
  100%{transform:translateX(-100%)}
}
</style>
</head>

<body>

<!-- PIN -->
<div id="pinScreen">
  <div class="pinDots" id="dots"></div>
  <div class="pinGrid">
    <button class="pinBtn" onclick="add(1)">1</button>
    <button class="pinBtn" onclick="add(2)">2</button>
    <button class="pinBtn" onclick="add(3)">3</button>
    <button class="pinBtn" onclick="add(4)">4</button>
    <button class="pinBtn" onclick="add(5)">5</button>
    <button class="pinBtn" onclick="add(6)">6</button>
    <button class="pinBtn" onclick="add(7)">7</button>
    <button class="pinBtn" onclick="add(8)">8</button>
    <button class="pinBtn" onclick="add(9)">9</button>
    <button class="pinBtn erase" onclick="del()">⌫</button>
    <button class="pinBtn" onclick="add(0)">0</button>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">
  <div id="content"></div>

  <div id="tabbar">
    <div class="tab active" onclick="openTab('feed')">Стрічка</div>
    <div class="tab" onclick="openTab('docs')">Документи</div>
    <div class="tab" onclick="openTab('services')">Сервіси</div>
    <div class="tab" onclick="openTab('menu')">Меню</div>
  </div>
</div>

<script>
let pin="";
const dots=document.getElementById("dots");
for(let i=0;i<4;i++){
  let d=document.createElement("div");
  d.className="dot";
  dots.appendChild(d);
}

function renderDots(){
  [...dots.children].forEach((d,i)=>d.classList.toggle("fill",i<pin.length))
}
function add(n){
  if(pin.length<4){pin+=n;renderDots()}
  if(pin.length===4){
    setTimeout(()=>{
      pin="";
      renderDots();
      document.getElementById("pinScreen").classList.add("hidden");
      document.getElementById("app").classList.remove("hidden");
      openTab('docs');
    },300)
  }
}
function del(){pin=pin.slice(0,-1);renderDots()}

function openTab(t){
  document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');

  const c=document.getElementById("content");
  if(t==='docs'){
    c.innerHTML=`
      <input class="input" id="ln" placeholder="Прізвище">
      <input class="input" id="fn" placeholder="Імʼя">
      <input class="input" id="mn" placeholder="По батькові">
      <input class="input" id="bd" placeholder="Дата народження">
      <input class="input" type="file" id="ph">
      <button class="input" onclick="gen()">Створити документ</button>
      <div id="out"></div>
    `;
  } else {
    c.innerHTML="<h2>"+t+"</h2>";
  }
}

function gen(){
  const ln=ln.value,fn=fn.value,mn=mn.value,bd=bd.value;
  if(!ln||!fn)return;
  const img=ph.files[0]?URL.createObjectURL(ph.files[0]):"";
  out.innerHTML=`
  <div class="cardWrap">
    <div class="card" onclick="this.classList.toggle('flip')">
      <div class="side">
        <div class="cardTitle">Паспорт громадянина України</div>
        <div class="row">
          <div class="photo">${img?`<img src="${img}">`:''}</div>
          <div class="dataRight">${bd}<br>№ 07460112</div>
        </div>
        <div class="ticker"><span>Документ оновлено • ${new Date().toLocaleDateString()}</span></div>
        <div class="nameBlock">${ln}<br>${fn}<br>${mn||''}</div>
      </div>
      <div class="side back">
        <div>QR-код</div>
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=demo">
      </div>
    </div>
  </div>`;
}
</script>

</body>
</html>
