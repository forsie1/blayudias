<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î—ñ—è</title>
<style>
/* =========================
   GLOBAL
========================= */
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,sans-serif;}
html,body{height:100%;overflow:hidden;background:linear-gradient(-45deg,#ffd54f,#4fc3f7,#7e57c2);background-size:400% 400%;animation:bg 18s ease infinite;color:#fff;}
@keyframes bg{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%;}}

/* =========================
   PIN SCREEN
========================= */
#pinScreen{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;backdrop-filter:blur(25px);z-index:1000;}
.pin-dots{display:flex;gap:14px;margin-bottom:24px}
.pin-dot{width:14px;height:14px;border-radius:50%;border:2px solid #fff}
.pin-dot.filled{background:#fff}
.pin-pad{display:grid;grid-template-columns:repeat(3,80px);gap:14px}
.pin-btn{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.18);color:#fff;font-size:26px;display:flex;align-items:center;justify-content:center;cursor:pointer}

/* =========================
   SCREENS
========================= */
.screen{position:absolute;inset:0;padding:16px;display:none;overflow:hidden;}
.screen.active{display:block;}
.title{font-size:22px;font-weight:800;margin-bottom:12px}

/* =========================
   TABBAR
========================= */
#tabbar{position:fixed;bottom:0;left:0;right:0;height:70px;background:#000;display:flex;justify-content:space-around;align-items:center;z-index:100;}
.tab{color:#fff;font-size:14px;opacity:.6;cursor:pointer;text-align:center;}
.tab.active{opacity:1;font-weight:700}

/* =========================
   FEED
========================= */
.feed-container{display:flex;overflow-x:auto;gap:12px;padding-bottom:12px;}
.news{background:rgba(255,255,255,.15);border-radius:18px;padding:12px;display:flex;flex-direction:column;gap:6px;min-width:220px;flex-shrink:0;}
.news img{width:100%;height:120px;border-radius:12px;object-fit:cover}
.news button{margin-top:6px;background:rgba(255,255,255,.25);border:none;color:#fff;padding:6px 12px;border-radius:12px;cursor:pointer}

/* =========================
   DOCUMENTS
========================= */
.docs-wrapper{position:relative;overflow:hidden;height:600px;display:flex;justify-content:center;align-items:center;}
.docs-track{display:flex;transition:transform .3s ease;height:100%;align-items:center;}
.card-wrap{position:relative;min-width:360px;height:520px;flex-shrink:0;perspective:1200px;}
.card{width:100%;height:100%;transform-style:preserve-3d;transition:.6s;position:relative;border-radius:24px;}
.card.flipped{transform:rotateY(180deg);}
.face{position:absolute;inset:0;border-radius:24px;padding:16px;backface-visibility:hidden;display:flex;flex-direction:column;}
.front{background:rgba(255,255,255,.18);backdrop-filter:blur(20px);color:#fff;display:flex;flex-direction:column;justify-content:flex-start;}
.back{background:#fff;color:#000;justify-content:center;align-items:center;text-align:center;display:flex;flex-direction:column;transform:rotateY(180deg);}
.status{margin:12px 0 6px 0;background:#1aff64;color:#000;padding:4px 10px;font-size:12px;border-radius:12px;white-space:nowrap;overflow:hidden;}
@keyframes marquee{0%{transform:translateX(100%);}100%{transform:translateX(-100%);}}
.marquee{display:inline-block;animation:marquee 8s linear infinite;}
.main{display:flex;gap:12px;align-items:flex-start;flex:1;}
.photo{width:150px;height:200px;background:#333;border-radius:14px;overflow:hidden;}
.photo img{width:100%;height:100%;object-fit:cover;}
.info{font-size:16px;flex:1;display:flex;flex-direction:column;align-items:flex-start;}
.fio{text-align:left;font-weight:900;font-size:26px;line-height:1.2;margin-top:12px;margin-bottom:4px;white-space:pre-line;}
canvas.sign{border:1px solid #444;border-radius:8px;width:100%;height:50px;margin-top:10px;}
.qr-title{background:rgba(0,0,0,.1);padding:4px 10px;border-radius:8px;margin-bottom:8px;display:inline-block;}
.doc-indicator{display:flex;justify-content:center;gap:6px;margin-top:6px;}
.doc-indicator div{width:10px;height:10px;border-radius:50%;background:#ccc;}
.doc-indicator div.active{background:#fff}

/* =========================
   SERVICES
========================= */
.services{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.service{background:rgba(255,255,255,.15);border-radius:16px;padding:14px;text-align:center;cursor:pointer}
.icon{font-size:26px;margin-bottom:6px}

/* =========================
   MENU
========================= */
.menu{display:flex;flex-direction:column;gap:12px}
.menu button, .menu input, .menu select{padding:12px;border:none;border-radius:14px;background:rgba(255,255,255,.15);color:#fff;font-size:16px;cursor:pointer}
.menu input, .menu select{color:#000;}
</style>
</head>
<body>

<!-- PIN -->
<div id="pinScreen">
  <div class="pin-dots" id="dots"></div>
  <div class="pin-pad" id="pad"></div>
</div>

<div id="app">
<div id="screens">

<!-- FEED -->
<div class="screen active" id="feed">
  <div class="title">–°—Ç—Ä—ñ—á–∫–∞</div>
  <div class="feed-container" id="feedContainer"></div>
</div>

<!-- DOCUMENTS -->
<div class="screen" id="documents">
  <div class="title">–î–æ–∫—É–º–µ–Ω—Ç–∏</div>
  <div class="docs-wrapper">
    <div class="docs-track" id="track"></div>
    <div class="doc-indicator" id="docIndicator"></div>
  </div>
</div>

<!-- SERVICES -->
<div class="screen" id="services">
  <div class="title">–°–µ—Ä–≤—ñ—Å–∏</div>
  <div class="services">
    <div class="service"><div class="icon">ü™ñ</div>–ê—Ä–º—ñ—è</div>
    <div class="service"><div class="icon">üöó</div>–í–æ–¥—ñ—î–≤—ñ</div>
    <div class="service"><div class="icon">üè†</div>–í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è</div>
    <div class="service"><div class="icon">üíç</div>–®–ª—é–±</div>
    <div class="service"><div class="icon">üì¶</div>–ï–∫—Å–ø–æ—Ä—Ç</div>
    <div class="service"><div class="icon">üìò</div>–ö–Ω–∏–≥–∞</div>
    <div class="service"><div class="icon">üìä</div>–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è</div>
    <div class="service"><div class="icon">‚ö°</div>–ù–µ–∑–ª–∞–º–Ω—ñ—Å—Ç—å</div>
    <div class="service"><div class="icon">ü§ñ</div>–ß–∞—Ç-–±–æ—Ç</div>
  </div>
</div>

<!-- MENU -->
<div class="screen" id="menu">
  <div class="title">–ú–µ–Ω—é</div>
  <div class="menu">
    <label>–§–æ—Ç–æ: <input type="file" id="photoFile" accept="image/*"></label>
    <input id="lastName" type="text" placeholder="–ü—Ä—ñ–∑–≤–∏—â–µ">
    <input id="firstName" type="text" placeholder="–Ü–º'—è">
    <input id="middleName" type="text" placeholder="–ü–æ –±–∞—Ç—å–∫–æ–≤—ñ">
    <input id="birth" type="text" placeholder="–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è –¥–¥.–º–º.–≥–≥–≥–≥">
    <input id="number" type="text" placeholder="–ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞">
    <select id="docType">
      <option value="passport">–ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–æ–º–∞–¥—è–Ω–∏–Ω–∞ –£–∫—Ä–∞—ó–Ω–∏</option>
      <option value="rnkpp">–ö–∞—Ä—Ç–∫–∞ –ø–ª–∞—Ç–Ω–∏–∫–∞ –ø–æ–¥–∞—Ç–∫—ñ–≤</option>
    </select>
    <canvas id="signCanvas" width="300" height="50"></canvas>
    <button onclick="addUserDocument()">–î–æ–¥–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç</button>
    <button>–í–∏–π—Ç–∏</button>
    <button>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
    <button>–í–µ—Ä—Å—ñ—è 4.27.0.2205</button>
  </div>
</div>

</div>

<!-- TABBAR -->
<div id="tabbar">
  <div class="tab active" onclick="openTab('feed',this)">–°—Ç—Ä—ñ—á–∫–∞</div>
  <div class="tab" onclick="openTab('documents',this)">–î–æ–∫—É–º–µ–Ω—Ç–∏</div>
  <div class="tab" onclick="openTab('services',this)">–°–µ—Ä–≤—ñ—Å–∏</div>
  <div class="tab" onclick="openTab('menu',this)">–ú–µ–Ω—é</div>
</div>

</div>

<script>
// ========================= PIN CODE
const PIN="1111";let p="";
const pinScreen=document.getElementById("pinScreen");
const app=document.getElementById("app");
const dots=document.getElementById("dots");
for(let i=0;i<4;i++)dots.appendChild(Object.assign(document.createElement("div"),{className:"pin-dot"}));
const pad=document.getElementById("pad");
[1,2,3,4,5,6,7,8,9,"‚å´",0].forEach(v=>{
  const b=document.createElement("div"); b.className="pin-btn"; b.textContent=v;
  b.onclick=()=>press(v); pad.appendChild(b);
});
function press(v){
  if(v==="‚å´") p=p.slice(0,-1);
  else if(p.length<4)p+=v;
  [...dots.children].forEach((d,i)=>d.classList.toggle("filled",i<p.length));
  if(p.length===4)setTimeout(()=>{
    if(p===PIN){pinScreen.style.display="none";app.style.display="flex"}
    p="";[...dots.children].forEach(d=>d.classList.remove("filled"))
  },200);
}

// ========================= TABS
function openTab(id,el){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
  if(el)el.classList.add("active");
}

// ========================= FEED
const feedContainer=document.getElementById("feedContainer");
const feedItems=[
  {img:'https://picsum.photos/200/150?1',title:'–û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –±–µ–∑–ø–µ–∫–∏',text:'–î–æ–∫—É–º–µ–Ω—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω–æ'},
  {img:'https://picsum.photos/200/150?2',title:'–ù–æ–≤–∏–π –∑–Ω–∞–∫ —É –ø—Ä–æ—Ñ—ñ–ª—ñ',text:'–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—ó –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è'},
  {img:'https://picsum.photos/200/150?3',title:'–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è —Å–µ—Ä–≤—ñ—Å—ñ–≤',text:'–î–æ–¥–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏ —à–≤–∏–¥–∫–æ'}
];
feedItems.forEach(item=>{
  const div=document.createElement('div'); div.className='news';
  div.innerHTML=`<img src="${item.img}"><b>${item.title}</b><p>${item.text}</p><button>–í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞—Ä—Ç–∫—É D1A</button>`;
  feedContainer.appendChild(div);
});

// ========================= DOCUMENTS
const track=document.getElementById('track');
const indicator=document.getElementById('docIndicator');
let docs=[];
let currentDoc=0;

function renderDocs(){
  track.innerHTML=""; indicator.innerHTML="";
  docs.forEach((data,i)=>{
    const cardWrap=document.createElement('div'); cardWrap.className="card-wrap";
    const card=document.createElement('div'); card.className="card";
    const front=document.createElement('div'); front.className="face front";
    front.innerHTML=`<h3>${data.type==="passport"?"–ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–æ–º–∞–¥—è–Ω–∏–Ω–∞ –£–∫—Ä–∞—ó–Ω–∏":"–ö–∞—Ä—Ç–∫–∞ –ø–ª–∞—Ç–Ω–∏–∫–∞ –ø–æ–¥–∞—Ç–∫—ñ–≤"}</h3>
      <div class="status"><div class="marquee">–î–æ–∫—É–º–µ–Ω—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ ¬∑ ${new Date().toLocaleDateString("uk-UA")}</div></div>
      <div class="main">
        <div class="photo"><img src="${data.photo}"></div>
        <div class="info">
          <div>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è: ${data.birth}</div>
          <div>–ù–æ–º–µ—Ä: ${data.number}</div>
          <canvas class="sign" width="200" height="50"></canvas>
        </div>
      </div>
      <div class="fio">${data.last}\n${data.first}\n${data.middle}</div>`;
    const back=document.createElement('div'); back.className="face back";
    back.innerHTML=`<div class="qr-title">QR‚Äë–∫–æ–¥</div><img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(data.number)}">`;
    card.appendChild(front); card.appendChild(back);
    cardWrap.appendChild(card); track.appendChild(cardWrap);
    card.onclick=()=>card.classList.toggle('flipped');
    const dot=document.createElement('div'); dot.className=i===currentDoc?'active':'';
    indicator.appendChild(dot);
  });
  updateDocsPosition();
}

function updateDocsPosition(){
  track.style.transform=`translateX(-${currentDoc*(360+16)}px)`;
  [...indicator.children].forEach((d,i)=>d.classList.toggle('active',i===currentDoc));
}

// ========================= SWIPE
let startX=null;
track.parentElement.addEventListener('touchstart',e=>startX=e.touches[0].clientX);
track.parentElement.addEventListener('touchend',e=>{
  if(startX===null) return;
  let endX=e.changedTouches[0].clientX;
  if(endX-startX>30 && currentDoc>0) currentDoc--;
  else if(startX-endX>30 && currentDoc<docs.length-1) currentDoc++;
  startX=null;
  updateDocsPosition();
});

// ========================= ADD DOCUMENT
function addUserDocument(){
  const fileInput=document.getElementById('photoFile');
  const photo= fileInput.files[0] ? URL.createObjectURL(fileInput.files[0]) : 'https://picsum.photos/200';
  const data={
    type: document.getElementById('docType').value,
    last:document.getElementById("lastName").value||"–ü—Ä—ñ–∑–≤–∏—â–µ",
    first:document.getElementById("firstName").value||"–Ü–º'—è",
    middle:document.getElementById("middleName").value||"–ü–æ –±–∞—Ç—å–∫–æ–≤—ñ",
    birth:document.getElementById("birth").value||"",
    number:document.getElementById("number").value||"",
    photo
  };
  docs.push(data);
  currentDoc=docs.length-1;
  renderDocs();
  openTab('documents');
}

// ========================= SIGN CANVAS
const signCanvas=document.getElementById('signCanvas');
const ctx=signCanvas.getContext('2d');
let drawing=false;
signCanvas.addEventListener('mousedown',()=>drawing=true);
signCanvas.addEventListener('mouseup',()=>drawing=false);
signCanvas.addEventListener('mouseleave',()=>drawing=false);
signCanvas.addEventListener('mousemove',e=>{
  if(!drawing) return;
  ctx.lineWidth=2;ctx.strokeStyle="#000";ctx.lineCap="round";
  ctx.lineTo(e.offsetX,e.offsetY);ctx.stroke();ctx.beginPath();ctx.moveTo(e.offsetX,e.offsetY);
});
</script>

</body>
</html>
