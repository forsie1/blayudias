<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>–ü—Ä–∏–≤—ñ—Ç</title>
<style>
:root{
  --vio:#5b5cff;
  --blue:#2b6cff;
  --pink:#ff63c3;
  --yellow:#ffd66e;
  --glass:rgba(255,255,255,.22);
  --glass2:rgba(255,255,255,.12);
  --r:22px;
  --ease:cubic-bezier(.2,.8,.2,1);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,system-ui;color:#fff;}
body{
  background:
    radial-gradient(900px 600px at 10% 0%, var(--pink) 0%, transparent 55%),
    radial-gradient(900px 600px at 90% 10%, var(--yellow) 0%, transparent 55%),
    radial-gradient(1200px 800px at 50% 120%, var(--blue) 0%, transparent 60%),
    linear-gradient(160deg,var(--vio),#1f235c);
  overflow:hidden;
}
.app{height:100%;display:flex;flex-direction:column;}
.header{padding:16px 18px 8px;font-weight:900;letter-spacing:.4px;}
.screens{flex:1;position:relative;touch-action:pan-y;}
.screen{
  position:absolute; inset:0;
  padding:10px 14px 90px;
  overflow:auto;
  opacity:0; transform:translateX(100%);
  transition:0.35s var(--ease);
  pointer-events:none;
}
.screen.active{opacity:1;transform:translateX(0);pointer-events:auto;}
.card{
  background:linear-gradient(180deg,var(--glass),var(--glass2));
  backdrop-filter: blur(22px) saturate(140%);
  border-radius:var(--r);
  padding:16px;
  box-shadow:
    0 20px 40px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.35);
}
.shimmer{position:relative;overflow:hidden;}
.shimmer::after{
  content:"";position:absolute;inset:-100% -50%;
  background:linear-gradient(120deg,transparent 40%,rgba(255,255,255,.35) 50%,transparent 60%);
  animation:sh 2.2s infinite;
}
@keyframes sh{to{transform:translateX(200%)}} 
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;}
.tile{
  padding:18px;border-radius:18px;
  background:linear-gradient(180deg,rgba(255,255,255,.28),rgba(255,255,255,.14));
  backdrop-filter: blur(18px);
  font-weight:800;text-align:center;cursor:pointer;
}
label{font-size:12px;opacity:.8;}
input{width:100%;margin-top:6px;margin-bottom:10px;padding:14px;border-radius:14px;border:none;outline:none;font-size:16px;}
.btn{width:100%;padding:16px;border-radius:16px;border:none;font-weight:900;color:#2b2f7a;background:linear-gradient(180deg,#fff,#eef1ff);cursor:pointer;}
.center{display:flex;justify-content:center;align-items:center;}
.doc-wrap{perspective:1400px;}
.doc{
  width:350px;
  height:380px;
  position:relative;transform-style:preserve-3d;
  transition:transform 0.8s cubic-bezier(.2,.8,.2,1);
  cursor:pointer;
}
.doc.flip{transform:rotateY(180deg);}
.doc .side{
  position:absolute;inset:0;
  border-radius:20px;
  padding:16px;
  backface-visibility:visible;
  display:flex;
  flex-direction:column;
}
.doc .back{
  transform:rotateY(180deg);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}
.row{display:flex;gap:12px;margin-top:10px;}
.photo{width:100px;height:120px;border-radius:10px;background:rgba(255,255,255,.35);overflow:hidden;}
.photo img{width:100%;height:100%;object-fit:cover;}
.watermark{position:absolute;right:12px;bottom:10px;font-size:10px;opacity:.6;}
.qr{width:120px;height:120px;background:#fff;border-radius:12px;margin-bottom:10px;}
canvas{width:100%;height:100px;background:#fff;border-radius:14px;}
.update-strip{
  position:absolute;bottom:0;left:0;right:0;
  height:30px;
  background:rgba(0,255,0,0.3);
  display:flex;align-items:center;justify-content:center;
  font-size:14px;font-weight:700;border-bottom-left-radius:20px;border-bottom-right-radius:20px;
}
.tabbar{
  position:absolute;left:0;right:0;bottom:0;
  height:78px;padding:10px 8px env(safe-area-inset-bottom);
  display:flex;gap:6px;
  backdrop-filter: blur(24px);
  background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));
}
.tabbar button{
  flex:1;border:none;border-radius:16px;
  background:transparent;color:#fff;font-size:12px;font-weight:800;
  cursor:pointer;
}
.tabbar button.active{background:rgba(255,255,255,.22);}
.faceid{display:flex;align-items:center;justify-content:center;height:100%;font-size:22px;font-weight:900;}
</style>
</head>
<body>
<div class="app">
<div class="screens">
  <!-- FaceID –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ -->
  <section class="screen active" id="face">
    <div class="faceid shimmer">üîí –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è FaceID‚Ä¶</div>
  </section>

  <!-- –°—Ç—Ä—ñ—á–∫–∞ -->
  <section class="screen" id="feed">
    <div class="header">–î—ñ—è</div>
    <div class="card shimmer">
      <div class="grid">
        <div class="tile" onclick="go('docs')">–î–æ–∫—É–º–µ–Ω—Ç–∏</div>
        <div class="tile">–°–µ—Ä–≤—ñ—Å–∏</div>
        <div class="tile">–î–æ–Ω–∞—Ç–∏</div>
        <div class="tile">–ú–µ–Ω—é</div>
      </div>
    </div>
  </section>

  <!-- –î–æ–∫—É–º–µ–Ω—Ç—ã -->
  <section class="screen" id="docs">
    <div class="card">
      <div class="tile" onclick="go('data')">‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç</div>
    </div>
  </section>

  <!-- –§–æ—Ä–º–∞ –¥–∞–Ω–Ω—ã—Ö -->
  <section class="screen" id="data">
    <div class="card">
      <label>–Ü–º º—è</label><input id="name">
      <label>–ü—Ä—ñ–∑–≤–∏—â–µ</label><input id="surname">
      <label>–î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è</label><input type="date" id="birth">
      <label>–§–æ—Ç–æ</label><input type="file" id="photoInput">
      <label>–ü—ñ–¥–ø–∏—Å</label><canvas id="sign"></canvas>
      <button class="btn" onclick="generateDoc()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç</button>
    </div>
  </section>

  <!-- –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ -->
  <section class="screen" id="final">
    <div class="center">
      <div class="doc-wrap">
        <div class="doc" id="docCard" onclick="flip()">
          <div class="side front">
            <b>–ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–æ–º–∞–¥—è–Ω–∏–Ω–∞ –£–∫—Ä–∞—ó–Ω–∏</b>
            <div class="row">
              <div class="photo"><img id="photo"></div>
              <div style="flex:1;">
                <div id="dName"></div>
                <div id="dBirth"></div>
                <div id="dSign"></div>
                <div id="dNumber"></div>
              </div>
            </div>
            <div class="update-strip" id="updateStrip"></div>
            <div class="watermark">...</div>
          </div>
          <div class="side back">
            <div class="qr"></div>
            <div class="watermark">QR-–∫–æ–¥</div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="tabbar">
  <button class="active" onclick="go('feed',this)">–°—Ç—Ä—ñ—á–∫–∞</button>
  <button onclick="go('docs',this)">–î–æ–∫—É–º–µ–Ω—Ç–∏</button>
  <button onclick="go('feed',this)">–°–µ—Ä–≤—ñ—Å–∏</button>
  <button onclick="go('feed',this)">–ú–µ–Ω—é</button>
</div>
</div>

<script>
const screens=document.querySelectorAll('.screen');
function go(id,btn){
  screens.forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  if(btn){
    document.querySelectorAll('.tabbar button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  }
}

function flip(){document.getElementById('docCard').classList.toggle('flip');}

// FaceID –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
setTimeout(()=>{go('feed');},2000);

// –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ
photoInput.onchange=e=>photo.src=URL.createObjectURL(e.target.files[0]);

// –ü–æ–¥–ø–∏—Å—å
const c=sign,ctx=c.getContext('2d');let d=false;
c.onpointerdown=()=>{d=true;ctx.beginPath();}
c.onpointerup=()=>d=false;
c.onpointermove=e=>{if(!d)return;ctx.lineWidth=2;ctx.lineCap='round';ctx.lineTo(e.offsetX,e.offsetY);ctx.stroke();}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
function generateDoc(){
  const fullName = name.value+' '+surname.value;
  dName.textContent = "–Ü–º º—è: "+fullName;
  dBirth.textContent = "–ù–∞—Ä–æ–¥–∂–µ–Ω–Ω—è: "+birth.value;

  // –ü–æ–¥–ø–∏—Å—å
  const signData = sign.toDataURL();
  dSign.innerHTML = `<img src="${signData}" style="width:100%;height:60px;object-fit:contain;border:1px solid #fff;border-radius:6px;">`;

  // –ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞
  const docNumber = Math.floor(1000000 + Math.random()*9000000);
  dNumber.textContent = "–ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞: "+docNumber;

  // –ó–µ–ª–µ–Ω–∞—è –ø–æ–ª–æ—Å–∫–∞ —Å —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç–æ–π
  const today = new Date().toLocaleDateString('uk-UA');
  updateStrip.textContent = `–î–æ–∫—É–º–µ–Ω—Ç –æ–Ω–æ–≤–ª–µ–Ω–æ: ${today}`;

  go('final');
}

// –°–≤–∞–π–ø—ã –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
let startX=0; const tabs=['feed','docs','feed','feed']; let currentTab=0;
document.body.addEventListener('touchstart',e=>{startX=e.touches[0].clientX;});
document.body.addEventListener('touchend',e=>{
  let endX=e.changedTouches[0].clientX;
  if(endX-startX>50) nextTab(-1);
  if(startX-endX>50) nextTab(1);
});
function nextTab(dir){
  currentTab+=dir;
  if(currentTab<0) currentTab=0;
  if(currentTab>=tabs.length) currentTab=tabs.length-1;
  go(tabs[currentTab]);
}
</script>
</body>
</html>
